extends ../layout

block content
  |Hello, Dolly!

  div#new
    a.create(href="#") create

  ul#ideas(data-bind='template: { name: "ideaTmpl", foreach: ideas, afterRender: applyCodeMirror }')

  script(id="ideaTmpl", type="text/html")
    |<li class="idea">
    |      <a class="remove" href="#"> x </a>
    |      <a class="add" href="#"> add child </a>
    |      <textarea data-bind="value: text, valueUpdate: 'afterkeydown'"></textarea>
    |      <ul data-bind='template: { name: "ideaTmpl", foreach: children, afterRender: ideaMMVCmodel.applyCodeMirror }'></ul>
    |  </li>
